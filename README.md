# üí≥ Payments System ‚Äî Django test project

–¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è Backend Django Developer

---

## –ó–∞–¥–∞—á–∞: –∏–º–∏—Ç–∞—Ü–∏—è webhook –æ—Ç –±–∞–Ω–∫–∞

- –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ webhook-–∏ –æ—Ç –±–∞–Ω–∫–∞
- –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö
- –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—á–∏—Å–ª—è–µ—Ç –±–∞–ª–∞–Ω—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ –ò–ù–ù

---

## –°—Ç–µ–∫:
- Python 3.9
- Django 4.2.17
- Pydantic v2
- MySQL

## POST `/api/webhook/bank/`

Webhook –ø—Ä–∏–Ω–∏–º–∞–µ—Ç JSON —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞:

```json
{
  "operation_id": "ccf0a86d-041b-4991-bcf7-e2352f7b8a4a",
  "amount": 145000,
  "payer_inn": "1234567890",
  "document_number": "PAY-328",
  "document_date": "2024-04-27T21:00:00Z"
}

```
### –ü–æ–≤–µ–¥–µ–Ω–∏–µ

- –ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è —É–∂–µ –±—ã–ª–∞ (`operation_id`) ‚Äî –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `200 OK`
–¢—Ä–µ–±—É–µ—Ç—Å—è –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–µ–π, —Ç–æ –µ—Å—Ç—å –µ—Å–ª–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π –≤–µ–±—Ö—É–∫, –º—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–Ω–æ–≤–æ –ø–æ–ø–æ–ª–Ω—è—Ç—å –±–∞–ª–∞–Ω—Å
- –ï—Å–ª–∏ –Ω–æ–≤–∞—è:
  - —Å–æ–∑–¥–∞—ë—Ç `Payment`
  - –Ω–∞—á–∏—Å–ª—è–µ—Ç —Å—É–º–º—É –Ω–∞ –±–∞–ª–∞–Ω—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å `payer_inn`
  - –ª–æ–≥–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É

---

## GET `/api/organizations/<inn>/balance/`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ –ò–ù–ù:

```json
{
  "inn": "1234567890",
  "balance": 145000
}
